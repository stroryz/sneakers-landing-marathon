{"version":3,"sources":["global.js","burger.js","cart.js","ex.js","faq.js","foucs.js","insta.js","map.js","products.js","quiz.js","range-slider.js","validate.js","main.js"],"names":["disableScroll","pagePosition","window","scrollY","document","body","classList","add","dataset","position","style","top","enableScroll","parseInt","remove","scroll","left","removeAttribute","burger","querySelector","menu","addEventListener","toggle","contains","cartBtn","miniCart","e","target","closest","accordions","querySelectorAll","forEach","el","self","currentTarget","control","content","setAttribute","maxHeight","scrollHeight","ymaps","ready","init","myMap","Map","center","zoom","catalogList","catalogMore","prodModal","prodModalSlider","prodModalPreview","prodModalInfo","prodModalDescr","prodChars","prodModalVideo","prodQuantity","dataLength","modal","normalPrice","str","String","replace","prodSlider","Swiper","slidesPerView","spaceBetween","loadProducts","quantuty","fetch","then","response","json","data","length","innerHTML","i","item","mainImage","title","id","price","productTitle","$clamp","clamp","productBtns","parent","cartLogic","GraphModal","isOpen","modalContainer","openBtnId","previousActiveElement","loadModalData","update","textContent","dataItem","console","log","slides","gallery","map","image","idx","preview","sizes","size","join","oldPrice","description","charsItems","Object","keys","chars","eachKey","key","video","display","on","index","slideTo","miniCartList","fullPrice","cartCount","priceWithoutSpaces","plusFullPrice","currentPrice","minusFullPrice","printFullPrice","printQuantity","num","loadCartData","insertAdjacentHTML","productBtn","openOrderModal","orderModalList","orderModalQuantity","orderModalSumm","orderModalShow","productsHtml","setTimeout","close","quizFormData","textareaText","quizData","number","answer_alias","answers","answer_title","type","quizTemplate","options","nextBtnText","Quiz","selector","$el","counter","resultArray","tmp","events","valid","preventDefault","FormData","obj","append","substring","xhr","XMLHttpRequest","onreadystatechange","readyState","status","value","open","send","reset","addToSend","nextQuestion","tagName","elements","checked","serialize","textarea","isValid","textArea","nodeName","push","form","field","s","valueString","len","name","disabled","j","selected","encodeURIComponent","quiz","sendBtnText","rangeSlider","getElementById","noUiSlider","create","start","connect","step","range","input0","input1","inputs","values","handle","Math","round","setRangeSlider","arr","set","styles","getComputedStyle","documentElement","colorValue","getPropertyValue","im","Inputmask","mask","productsFormData","validateForms","rules","messages","successModal","yaGoal","JustValidate","colorWrong","submitHandler","formData","required","phone","email"],"mappings":"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","file":"main.js","sourcesContent":["// console.log('global');\n","function disableScroll() {\n  let pagePosition = window.scrollY;\n  document.body.classList.add('disable-scroll');\n  document.body.dataset.position = pagePosition;\n  document.body.style.top = -pagePosition + 'px';\n}\n\nfunction enableScroll() {\n  let pagePosition = parseInt(document.body.dataset.position, 10);\n  document.body.style.top = 'auto';\n  document.body.classList.remove('disable-scroll');\n  window.scroll({\n    top: pagePosition,\n    left: 0\n  });\n  document.body.removeAttribute('data-position');\n}\n\nconst burger = document.querySelector('.burger');\nconst menu = document.querySelector('.header__nav');\n\nburger.addEventListener('click', () => {\n  burger.classList.toggle('burger--active');\n  menu.classList.toggle('header__nav--active');\n\n  if (burger.classList.contains('burger--active')) {\n    disableScroll();\n  } else {\n    enableScroll();\n  }\n})\n","const cartBtn = document.querySelector('.cart__btn');\nconst miniCart = document.querySelector('.mini-cart');\n\ncartBtn.addEventListener('click', () => {\n  miniCart.classList.toggle('mini-cart--visible');\n})\n\ndocument.addEventListener('click', (e) => {\n  if (!e.target.classList.contains('mini-cart') && e.target.closest('.mini-cart') && !e.target.classList.contains('cart__btn')) {\n    miniCart.classList.remove('mini-cart--visible');\n  }\n})\n","// console.log('maxgraph');\n","const accordions = document.querySelectorAll('.faq-accordion');\n\naccordions.forEach(el => {\n  el.addEventListener('click', (e) => {\n    const self = e.currentTarget;\n    const control = self.querySelector('.faq-accordion__control');\n    const content = self.querySelector('.faq-accordion__content');\n\n    self.classList.toggle('open');\n\n    // если открыт аккордеон\n    if (self.classList.contains('open')) {\n      control.setAttribute('aria-expanded', true);\n      content.setAttribute('aria-hidden', false);\n      content.style.maxHeight = content.scrollHeight + 'px';\n    } else {\n      control.setAttribute('aria-expanded', false);\n      content.setAttribute('aria-hidden', true);\n      content.style.maxHeight = null;\n    }\n  });\n});\n","// const productBtns = document.querySelectorAll('.product__btn');\n\n// productBtns.forEach(el => {\n//   el.addEventListener('focus', (e) => {\n//     let parent = e.currentTarget.closest('.product__btns');\n//     parent.classList.add('.product__btns--active');\n//   })\n// })\n","// const insta = document.querySelector('.instagram__content');\n//   (function () {\n//     new InstagramFeed({\n//       'username': 'starfuckedmodel',\n//       'display_profile': false,\n//       'display_biography': false,\n//       'display_gallery': true,\n//       'display_captions': true,\n//       'callback': function (data) {\n//         let instaArray = data.edge_owner_to_timeline_media.edges;\n\n//         for (let item of instaArray) {\n//           console.log(item.node);\n//           let element = item.node;\n//           insta.insertAdjacentHTML('afterbegin', `\n//             <li>\n//               <a href=\"https://www.instagram.com/\" target=\"_blank\">\n//                 <img src=\"${element.tumbnail_src}\" alt=\"${element.accessibility_caption}\">\n//               </a>\n//             </li>\n//           `);\n//         }\n//       },\n//       'styling': false,\n//       'items': 5,\n//       // 'items_per_row': 4,\n//       // 'margin': 1,\n//     })\n//   })();\n","ymaps.ready(init);\n\nfunction init(){\n    // Создание карты.\n    const myMap = new ymaps.Map(\"map\", {\n        // Координаты центра карты.\n        // Порядок по умолчанию: «широта, долгота».\n        // Чтобы не определять координаты центра карты вручную,\n        // воспользуйтесь инструментом Определение координат.\n        center: [55.76, 37.64],\n        // Уровень масштабирования. Допустимые значения:\n        // от 0 (весь мир) до 19.\n        zoom: 7\n    });\n}\n","const catalogList = document.querySelector('.catalog-list');\nconst catalogMore = document.querySelector('.catalog__more');\nconst prodModal = document.querySelector('[data-graph-target=\"prod-modal\"] .modal-content');\nconst prodModalSlider = prodModal.querySelector('.modal-slider .swiper-wrapper');\nconst prodModalPreview = prodModal.querySelector('.modal-slider .modal-preview');\nconst prodModalInfo = prodModal.querySelector('.modal-info__wrapper');\nconst prodModalDescr = prodModal.querySelector('.modal-prod-descr');\nconst prodChars = prodModal.querySelector('.prod-chars');\nconst prodModalVideo = prodModal.querySelector('.prod-modal__video');\nlet prodQuantity = 6;\nlet dataLength = null;\nlet modal = null;\n\nconst normalPrice = (str) => {\n  return String(str).replace(/(\\d)(?=(\\d\\d\\d)+([^\\d]|$))/g, '$1 ');\n}\n\nconst prodSlider = new Swiper('.modal-slider__container', {\n  slidesPerView: 1,\n  spaceBetween: 20,\n});\n\nif (catalogList) {\n  const loadProducts = (quantuty) => {\n    fetch('../data/data.json')\n      .then((response) => {\n        return response.json();\n      })\n      .then(data => {\n        dataLength = data.length;\n        catalogList.innerHTML = '';\n\n        for(let i = 0; i < dataLength; i++) {\n          if (i < quantuty) {\n            let item = data[i];\n            // console.log(item);\n\n            catalogList.innerHTML += `\n              <li class=\"catalog-list__item\">\n                <article class=\"product\">\n                  <div class=\"product__image\">\n                    <img src=\"${item.mainImage}\" alt=\"${item.title}\" />\n                    <div class=\"product__btns\">\n                      <button\n                        class=\"btn-reset product__btn\"\n                        data-graph-path=\"prod-modal\"\n                        data-id=\"${item.id}\"\n                        aria-label=\"Показать информацию о товаре\"\n                      >\n                        <svg>\n                          <use xlink:href=\"img/sprite.svg#eye\"></use>\n                        </svg>\n                      </button>\n                      <button\n                        class=\"btn-reset product__btn add-to-cart-btn\"\n                        data-id=\"${item.id}\"\n                        aria-label=\"Добавить товар в корзину\"\n                      >\n                        <svg>\n                          <use xlink:href=\"img/sprite.svg#cart\"></use>\n                        </svg>\n                      </button>\n                    </div>\n                  </div>\n                  <h3 class=\"product__title\">${item.title}</h3>\n                  <span class=\"product__price\">${normalPrice(item.price)} ₽</span>\n                </article>\n              </li>\n            `;\n          }\n        }\n\n      })\n      .then(() => {\n\n        const productTitle = document.querySelectorAll('.product__title');\n        productTitle.forEach(el => {\n          $clamp(el, {clamp: '22px'});\n        });\n\n        const productBtns = document.querySelectorAll('.product__btn');\n\n        productBtns.forEach(el => {\n          el.addEventListener('focus', (e) => {\n            let parent = e.currentTarget.closest('.product__btns');\n            parent.classList.add('product__btns--active');\n          }, true);\n        });\n\n        productBtns.forEach(el => {\n          el.addEventListener('blur', (e) => {\n            let parent = e.currentTarget.closest('.product__btns');\n            parent.classList.remove('product__btns--active');\n          }, true);\n        });\n\n        // Корзина\n        cartLogic();\n\n        modal = new GraphModal({\n          isOpen: (modal) => {\n            if(modal.modalContainer.classList.contains('prod-modal')) {\n              const openBtnId = modal.previousActiveElement.dataset.id;\n\n              loadModalData(openBtnId);\n\n              prodSlider.update();\n            }\n          },\n        });\n      })\n  }\n\n  loadProducts(prodQuantity);\n\n  const loadModalData = (id = 1) => {\n    fetch('../data/data.json')\n      .then((response) => {\n        return response.json();\n      })\n      .then((data) => {\n        prodModalSlider.innerHTML = '';\n        prodModalPreview.innerHTML = '';\n        prodModalInfo.innerHTML = '';\n        prodModalDescr.textContent = '';\n        prodChars.innerHTML = '';\n        prodModalVideo.innerHTML = '';\n\n        for(let dataItem of data) {\n          if (dataItem.id == id) {\n            console.log(dataItem);\n\n            const slides = dataItem.gallery.map((image, idx) => {\n              return `\n              <div class=\"swiper-slide\" data-index=\"${idx}\">\n                <img src=\"${image}\" alt=\"\">\n              </div>\n              `;\n            });\n            const preview = dataItem.gallery.map((image, idx) => {\n              return `\n                <div class=\"modal-preview__item ${idx === 0 ? 'modal-preview__item--active' : ''}\" tabindex=\"0\" data-index=\"${idx}\">\n                  <img src=\"${image}\" alt=\"\" />\n                </div>\n              `;\n            });\n            const sizes = dataItem.sizes.map((size, idx) => {\n              return `\n                <li class=\"modal-sizes__item\">\n                  <button class=\"modal-sizes__btn btn-reset\">${size}</button>\n                </li>\n              `;\n            });\n\n            prodModalSlider.innerHTML = slides.join('');\n            prodModalPreview.innerHTML= preview.join('');\n\n            prodModalInfo.innerHTML = `\n              <h3 class=\"modal-info__title\">\n                ${dataItem.title}\n              </h3>\n              <div class=\"modal-info__rate\">\n                <img src=\"img/star.svg\" alt=\"Рейтинг продукта\" />\n                <img src=\"img/star.svg\" alt=\"\" />\n                <img src=\"img/star.svg\" alt=\"\" />\n                <img src=\"img/star.svg\" alt=\"\" />\n                <img src=\"img/star.svg\" alt=\"\" />\n              </div>\n              <div class=\"modal-info__sizes\">\n                <span class=\"modal-info__subtitle\">Выберите размер</span>\n                <ul class=\"list-reset modal-info__sizes-list modal-sizes\">\n                  ${sizes.join('')}\n                </ul>\n              </div>\n              <div class=\"modal-info__price\">\n                <span class=\"modal-info__current-price\">${normalPrice(dataItem.price)} р</span>\n                <span class=\"modal-info__old-price\">${dataItem.oldPrice ? dataItem.oldPrice + ' р' : ''}</span>\n              </div>\n            `;\n\n            prodModalDescr.textContent = dataItem.description;\n\n            let charsItems = '';\n            Object.keys(dataItem.chars).forEach(function eachKey(key) {\n              charsItems += `<p class=\"prod-bottom__descr prod-chars__item\">${key}: ${dataItem.chars[key]}</p>`;\n            })\n\n            prodChars.innerHTML = charsItems;\n\n            if (dataItem.video) {\n              prodModalVideo.style.display = 'block';\n              prodModalVideo.innerHTML = `\n                <iframe\n                  src=\"${dataItem.video}\"\n                  allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                  allowfullscreen\n                ></iframe>\n              `;\n            } else {\n              prodModalVideo.style.display = 'none';\n            }\n\n          }\n        }\n      })\n      .then(() => {\n        prodSlider.update();\n\n        prodSlider.on('slideChangeTransitionEnd', function () {\n          let idx = document.querySelector('.swiper-slide-active').dataset.index;\n          document.querySelectorAll('.modal-preview__item').forEach(el => {\n              el.classList.remove('modal-preview__item--active')\n            });\n\n          document.querySelector(`.modal-preview__item[data-index='${idx}']`).classList.add('modal-preview__item--active')\n        });\n\n        document.querySelectorAll('.modal-preview__item').forEach(el => {\n          el.addEventListener('click', (e) => {\n            const idx = parseInt(e.currentTarget.dataset.index);\n            document.querySelectorAll('.modal-preview__item').forEach(el => {\n              el.classList.remove('modal-preview__item--active')\n            })\n            e.currentTarget.classList.add('modal-preview__item--active');\n\n            prodSlider.slideTo(idx);\n\n          })\n        })\n      })\n  }\n\n  catalogMore.addEventListener('click', (el) => {\n    prodQuantity = prodQuantity + 3;\n\n    loadProducts(prodQuantity);\n\n    if (prodQuantity >= dataLength) {\n      catalogMore.style.display = 'none';\n    } else {\n      catalogMore.style.display = 'block';\n    }\n  })\n}\n\n// Работа корзины\nconst miniCartList = document.querySelector('.mini-cart__list');\nlet price = 0;\nconst fullPrice = document.querySelector('.mini-cart__summ');\nconst cartCount = document.querySelector('.cart__count');\n\nconst priceWithoutSpaces = (str) => {\n  return str.replace(/\\s/g, '');\n};\n\nconst plusFullPrice = (currentPrice) => {\n  return price += currentPrice;\n};\n\nconst minusFullPrice = (currentPrice) => {\n  return price -= currentPrice;\n};\n\nconst printFullPrice = () => {\n  fullPrice.textContent = `\n    ${normalPrice(price)} р\n  `;\n};\n\nconst printQuantity = (num) => {\n  cartCount.textContent = num;\n}\n\nconst loadCartData = (id = 1) => {\n  fetch('../data/data.json')\n    .then((response) => {return response.json()})\n    .then((data) => {\n      for(let dataItem of data) {\n        if (dataItem.id == id) {\n          console.log(dataItem);\n          miniCartList.insertAdjacentHTML(\"afterbegin\", `\n            <li class=\"mini-cart__item\" data-id=\"${dataItem.id}\">\n              <article class=\"mini-cart__product mini-product\">\n                <div class=\"mini-product__image\">\n                  <img src=\"${dataItem.mainImage}\" alt=\"${dataItem.title}\" />\n                </div>\n                <div class=\"mini-product__content\">\n                  <div class=\"mini-product__text\">\n                    <h3 class=\"mini-product__title\">\n                      ${dataItem.title}\n                    </h3>\n                    <span class=\"mini-product__price\">${normalPrice(dataItem.price)} р</span>\n                  </div>\n                  <button\n                    class=\"btn-reset mini-product__delete\"\n                    aria-label=\"Удалить товар\"\n                  >\n                    Удалить\n                    <svg>\n                      <use xlink:href=\"img/sprite.svg#trash\"></use>\n                    </svg>\n                  </button>\n                </div>\n              </article>\n            </li>\n          `);\n          return dataItem;\n        }\n      }\n    })\n    .then((item) => {\n      plusFullPrice(item.price);\n      printFullPrice();\n      let num = document.querySelectorAll('.mini-cart__list .mini-cart__item').length;\n      if (num > 0) {\n        cartCount.classList.add('cart__count--visible');\n      }\n      printQuantity(num);\n    })\n}\n\nconst cartLogic = () => {\n  const productBtn = document.querySelectorAll('.add-to-cart-btn');\n\n  productBtn.forEach(el => {\n    el.addEventListener('click', e => {\n      const id = e.currentTarget.dataset.id;\n      loadCartData(id);\n\n      document.querySelector('.cart__btn').classList.remove('cart__btn--inactive');\n\n      e.currentTarget.classList.add('product__btn--disabled')\n    })\n  })\n\n  miniCartList.addEventListener('click', e => {\n    if (e.target.classList.contains('mini-product__delete')) {\n      const self = e.target;\n      const parent = self.closest('.mini-cart__item');\n      const price = parseInt(priceWithoutSpaces(parent.querySelector('.mini-product__price').textContent));\n      const id = parent.dataset.id;\n\n      document.querySelector(`.add-to-cart-btn[data-id=\"${id}\"]`).classList.remove('product__btn--disabled')\n\n      parent.remove();\n\n      minusFullPrice(price);\n      printFullPrice();\n      let num = document.querySelectorAll('.mini-cart__list .mini-cart__item').length;\n      if (num == 0) {\n        cartCount.classList.remove('cart__count--visible');\n        miniCart.classList.remove('mini-cart--visible');\n        document.querySelector('.cart__btn').classList.add('cart__btn--inactive');\n      }\n      printQuantity(num);\n    }\n  });\n}\n\nconst openOrderModal = document.querySelector('.mini-cart__btn');\nconst orderModalList = document.querySelector('.cart-modal-order__list');\nconst orderModalQuantity = document.querySelector('.cart-modal-order__quantity span');\nconst orderModalSumm = document.querySelector('.cart-modal-order__summ span');\nconst orderModalShow = document.querySelector('.cart-modal-order__show');\n\nopenOrderModal.addEventListener('click', el => {\n  const productsHtml = document.querySelector('.mini-cart__list').innerHTML;\n\n  orderModalList.innerHTML = productsHtml;\n  orderModalQuantity.textContent = `${document.querySelectorAll('.mini-cart__list .mini-cart__item').length} шт`;\n  orderModalSumm.textContent = fullPrice.textContent;\n})\n\norderModalShow.addEventListener('click', () => {\n  if (orderModalList.classList.contains('cart-modal-order__list--visible')) {\n    orderModalList.classList.remove('cart-modal-order__list--visible');\n    orderModalShow.classList.remove('.cart-modal-order__show--active');\n  } else {\n    orderModalList.classList.add('cart-modal-order__list--visible');\n    orderModalShow.classList.add('.cart-modal-order__show--active');\n  }\n});\n\n// TODO Доделать удаление из модалки\norderModalList.addEventListener('click', e => {\n  if (e.target.classList.contains('mini-product__delete')) {\n    const self = e.target;\n    const parent = self.closest('.mini-cart__item');\n    const price = parseInt(priceWithoutSpaces(parent.querySelector('.mini-product__price').textContent));\n    const id = parent.dataset.id;\n\n    document.querySelector(`.add-to-cart-btn[data-id=\"${id}\"]`).classList.remove('product__btn--disabled');\n\n    parent.style.display = 'none';\n\n    setTimeout(() => {\n      parent.remove();\n      document.querySelector(`.mini-cart__item[data-id=\"${id}\"]`).remove();\n    }, 100);\n\n    minusFullPrice(price);\n    printFullPrice();\n\n    setTimeout(() => {\n      let num = document.querySelectorAll('.cart-modal-order__list .mini-cart__item').length;\n      if (num == 0) {\n        cartCount.classList.remove('cart__count--visible');\n        miniCart.classList.remove('mini-cart--visible');\n        document.querySelector('.cart__btn').classList.add('cart__btn--inactive');\n\n        modal.close();\n      }\n      printQuantity(num);\n    }, 100);\n\n  }\n});\n\n","let quizFormData = null;\nlet textareaText = null;\n\nconst quizData = [{\n\t\tnumber: 1,\n\t\ttitle: \"Какой тип кроссовок рассматриваете?\",\n\t\tanswer_alias: \"type\",\n\t\tanswers: [{\n\t\t\t\tanswer_title: \"кеды\",\n\t\t\t\ttype: \"checkbox\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tanswer_title: \"кеды\",\n\t\t\t\ttype: \"checkbox\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tanswer_title: \"кеды\",\n\t\t\t\ttype: \"checkbox\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tanswer_title: \"кеды\",\n\t\t\t\ttype: \"checkbox\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tanswer_title: \"кеды\",\n\t\t\t\ttype: \"checkbox\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tanswer_title: \"кеды\",\n\t\t\t\ttype: \"checkbox\"\n\t\t\t},\n\t\t]\n\t},\n\t{\n\t\tnumber: 2,\n\t\ttitle: \"Какой размер вам подойдет?\",\n\t\tanswer_alias: \"size\",\n\t\tanswers: [{\n\t\t\t\tanswer_title: \"Менее 36\",\n\t\t\t\ttype: \"checkbox\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tanswer_title: \"36-38\",\n\t\t\t\ttype: \"checkbox\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tanswer_title: \"39-41\",\n\t\t\t\ttype: \"checkbox\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tanswer_title: \"42-44\",\n\t\t\t\ttype: \"checkbox\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tanswer_title: \"45 и более\",\n\t\t\t\ttype: \"checkbox\"\n\t\t\t},\n\t\t]\n\t},\n\t{\n\t\tnumber: 3,\n\t\ttitle: \"Уточните какие-либо моменты\",\n\t\tanswer_alias: \"message\",\n\t\tanswers: [{\n\t\t\tanswer_title: \"Введите сообщение\",\n\t\t\ttype: \"textarea\"\n\t\t},\n\t\t]\n\t},\n\t// {\n\t// \tnumber: 4,\n\t// \ttitle: \"Оставьте свой телефон, мы вам перезвоним\",\n\t// \tanswer_alias: \"phone\",\n\t// \tanswers: [\n  //     {\n  //       answer_title: \"Введите телефон\",\n  //       type: \"text\"\n\t// \t  },\n\t// \t]\n\t// },\n];\n\nconst quizTemplate = (data = [], dataLength = 0, options) => {\n\tconst {number, title} = data;\n\tconst {nextBtnText} = options;\n\tconst answers = data.answers.map(item => {\n    if (item.type === 'checkbox') {\n      return `\n      <li class=\"quiz-question__item\">\n        <img src=\"img/sneaker.jpg\" alt=\"\" >\n        <label class=\"custom-checkbox quiz-question__label\">\n          <input type=\"${item.type}\" class=\"custom-checkbox__field quiz-question__answer\" type=\"${item.type}\" data-valid=\"false\" name=\"${data.answer_alias}\" ${item.type == 'text' ? 'placeholder=\"Введите ваш вариант\"' : ''} value=\"${item.type !== 'text' ? item.answer_title : ''}\"/>\n          <span class=\"custom-checkbox__content\">${item.answer_title}</span>\n        </label>\n      </li>\n\t\t`;\n    } else if (item.type === 'textarea') {\n      return `\n        <label class=\"quiz-question__label\">\n          <textarea class=\"quiz-question__message\" placeholder=\"${item.answer_title}\"></textarea>\n        </label>\n      `;\n    } else {\n      return `\n        <label class=\"quiz-question__label\">\n          <input type=\"${item.type}\" data-valid=\"false\" class=\"quiz-question__answer\" name=\"${data.answer_alias}\" ${item.type == 'text' ? 'placeholder=\"Введите ваш вариант\"' : ''} value=\"${item.type !== 'text' ? item.answer_title : ''}\">\n          <span>${item.answer_title}</span>\n        </label>\n      `;\n    }\n\n\t});\n\n\treturn `\n    <div class=\"quiz-question\">\n      <h3 class=\"quiz-question__title\">${title}</h3>\n      <ul class=\"quiz-question__answers list-reset\">\n        ${answers.join('')}\n      </ul>\n      <div class=\"quiz-bottom\">\n        <div class=\"quiz-question__counter\">${number} из ${dataLength}</div>\n        <button type=\"button\" class=\"btn btn-reset btn--third quiz-question__btn\" data-next-btn>${nextBtnText}</button>\n      </div>\n    </div>\n\t`\n};\n\nclass Quiz {\n\tconstructor(selector, data, options) {\n\t\tthis.$el = document.querySelector(selector);\n\t\tthis.options = options;\n\t\tthis.data = data;\n\t\tthis.counter = 0;\n\t\tthis.dataLength = this.data.length;\n\t\tthis.resultArray = [];\n\t\tthis.tmp = {};\n\t\tthis.init()\n\t\tthis.events()\n\t}\n\n\tinit() {\n\t\t// console.log('init!');\n\t\tthis.$el.innerHTML = quizTemplate(this.data[this.counter], this.dataLength, this.options);\n\t}\n\n\tnextQuestion() {\n\t\t// console.log('next question!');\n\n\t\tif (this.valid()) {\n\t\t\tif (this.counter + 1 < this.dataLength) {\n\t\t\t\tthis.counter++;\n\t\t\t\tthis.$el.innerHTML = quizTemplate(this.data[this.counter], this.dataLength, this.options);\n\n\t\t\t\tif ((this.counter + 1 == this.dataLength)) {\n\t\t\t\t\tdocument.querySelector('.quiz-question__answers').style.display = 'block';\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// console.log('А все! конец!');\n        document.querySelector('.quiz-questions').style.display = 'none';\n        document.querySelector('.last-question').style.display = 'block';\n        document.querySelector('.quiz__title').textContent = 'Ваша подборка готова!';\n        document.querySelector('.quiz__descr').textContent = 'Оставьте свои контактные данные, чтобы бы мы могли отправить  подготовленный для вас каталог';\n\n        document.querySelector('.quiz-form').addEventListener('submit', (e) => {\n          e.preventDefault();\n\n          quizFormData = new FormData();\n\n          console.log(this.resultArray);\n\n          for (let item of this.resultArray) {\n            for (let obj in item) {\n              quizFormData.append(obj, item[obj].substring(0, item[obj].length - 1));\n            }\n          }\n\n          quizFormData.append('textarea', textareaText);\n\n          let xhr = new XMLHttpRequest();\n\n          xhr.onreadystatechange = function() {\n            if (xhr.readyState === 4) {\n              if (xhr.status === 200) {\n                console.log('Отправлено');\n              }\n            }\n          }\n\n          document.querySelector('.quiz-form').querySelectorAll('input').forEach(el => {\n            if (el.value) {\n              xhr.open('POST', 'mail.php', true);\n              xhr.send(quizFormData);\n\n              document.querySelector('.quiz-form').reset();\n            }\n          })\n\n        });\n\t\t\t}\n\t\t} else {\n\t\t\tconsole.log('Не валидно!')\n\t\t}\n\t}\n\n\tevents() {\n\t\t// console.log('events!')\n\t\tthis.$el.addEventListener('click', (e) => {\n\t\t\tif (e.target == document.querySelector('[data-next-btn]')) {\n\t\t\t\tthis.addToSend();\n\t\t\t\tthis.nextQuestion();\n\t\t\t}\n\n\t\t});\n\n\t\tthis.$el.addEventListener('change', (e) => {\n\t\t\tif (e.target.tagName == 'INPUT') {\n\t\t\t\tif (e.target.type !== 'checkbox' && e.target.type !== 'radio') {\n\t\t\t\t\tlet elements = this.$el.querySelectorAll('input')\n\n\t\t\t\t\telements.forEach(el => {\n\t\t\t\t\t\tel.checked = false;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tthis.tmp = this.serialize(document.querySelector('.quiz-form'));\n\t\t\t} else {\n        let textarea = this.$el.querySelector('textarea');\n        textareaText = textarea.value;\n      }\n\t\t});\n\t}\n\n\tvalid() {\n\t\tlet isValid = false;\n    let textArea = this.$el.querySelector('textarea');\n    if (textArea) {\n      if (textArea.value.length > 0) {\n        isValid = true;\n        return isValid;\n      }\n    }\n\n\t\tlet elements = this.$el.querySelectorAll('input')\n\t\telements.forEach(el => {\n\t\t\tswitch(el.nodeName) {\n\t\t\t\tcase 'INPUT':\n\t\t\t\t\tswitch (el.type) {\n\t\t\t\t\t\tcase 'text':\n\t\t\t\t\t\t\tif (el.value) {\n\t\t\t\t\t\t\t\tisValid = true;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tel.classList.add('error')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\tcase 'checkbox':\n\t\t\t\t\t\t\tif (el.checked) {\n\t\t\t\t\t\t\t\tisValid = true;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tel.classList.add('error')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\tcase 'radio':\n\t\t\t\t\t\t\tif (el.checked) {\n\t\t\t\t\t\t\t\tisValid = true;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tel.classList.add('error')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn isValid;\n\t}\n\n\taddToSend() {\n\t\tthis.resultArray.push(this.tmp)\n\t}\n\n\tserialize(form) {\n\t\tlet field, s = {};\n\t\tlet valueString = '';\n\t\tif (typeof form == 'object' && form.nodeName == \"FORM\") {\n\t\t\tlet len = form.elements.length;\n\t\t\tfor (let i = 0; i < len; i++) {\n\t\t\t\tfield = form.elements[i];\n\n\t\t\t\tif (field.name && !field.disabled && field.type != 'file' && field.type != 'reset' && field.type != 'submit' && field.type != 'button') {\n\t\t\t\t\tif (field.type == 'select-multiple') {\n\t\t\t\t\t\tfor (j = form.elements[i].options.length - 1; j >= 0; j--) {\n\t\t\t\t\t\t\tif (field.options[j].selected)\n\t\t\t\t\t\t\t\ts[s.length] = encodeURIComponent(field.name) + \"=\" + encodeURIComponent(field.options[j].value);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if ((field.type != 'checkbox' && field.type != 'radio' && field.value) || field.checked) {\n\t\t\t\t\t\tvalueString += field.value + ',';\n\n\t\t\t\t\t\ts[field.name] = valueString;\n\n\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn s;\n\t}\n}\n\nwindow.quiz = new Quiz('.quiz-form .quiz-questions', quizData, {\n\tnextBtnText: \"Следующий шаг\",\n\tsendBtnText: \"Отправить\",\n});\n","const rangeSlider = document.getElementById('range-slider');\n\nif (rangeSlider) {\n  noUiSlider.create(rangeSlider, {\n    start: [500, 999999],\n    connect: true,\n    step: 1,\n    range: {\n      'min': [500],\n      'max': [999999]\n    }\n  });\n\n  const input0 = document.getElementById('input-0');\n  const input1 = document.getElementById('input-1');\n  const inputs = [input0, input1];\n\n  rangeSlider.noUiSlider.on('update', function(values, handle) {\n    inputs[handle].value = Math.round(values[handle]);\n  });\n\n  const setRangeSlider = (i, value) => {\n    let arr = [null, null];\n    arr[i] = value;\n\n    console.log(arr);\n\n    rangeSlider.noUiSlider.set(arr);\n  };\n\n  inputs.forEach((el, index) => {\n    el.addEventListener('change', (e) => {\n      console.log(index);\n      setRangeSlider(index, e.currentTarget.value);\n\n    });\n  });\n}\n","let styles = getComputedStyle(document.documentElement);\nlet colorValue = styles.getPropertyValue('--color-accent');\n\nlet selector = document.querySelector('input[type=\"tel\"]');\n\nlet im = new Inputmask(\"+7 (999) 999-9999\");\nim.mask(selector);\n\nlet productsFormData = null;\n\nlet validateForms = function(selector, rules, messages, successModal, yaGoal) {\n\tnew window.JustValidate(selector, {\n\t\trules: rules,\n    messages: messages,\n    colorWrong: colorValue,\n\t\tsubmitHandler: function(form) {\n      console.log(form);\n\n      if (form.classList.contains('cart-modal__form')) {\n        productsFormData = new FormData(document.querySelector('.cart-modal__form'));\n\n        document.querySelectorAll('.cart-modal-order__list .mini-cart__item').forEach((el, idx) => {\n          let title = el.querySelector('.mini-product__title').textContent;\n          let price = el.querySelector('.mini-product__price').textContent;\n          productsFormData.append(`product-${idx + 1}`, `${title}, ${price}`);\n        });\n\n        productsFormData.append(`summ`, `${document.querySelector('.cart-modal-order__summ span').textContent}`);\n\n\n        let xhr = new XMLHttpRequest();\n\n        xhr.onreadystatechange = function() {\n          if (xhr.readyState === 4) {\n            if (xhr.status === 200) {\n              console.log('Отправлено');\n            }\n          }\n        }\n\n        xhr.open('POST', 'mail.php', true);\n        xhr.send(productsFormData);\n\n        form.reset();\n      } else {\n        let formData = new FormData(form);\n\n        let xhr = new XMLHttpRequest();\n\n        xhr.onreadystatechange = function() {\n          if (xhr.readyState === 4) {\n            if (xhr.status === 200) {\n              console.log('Отправлено');\n            }\n          }\n        }\n\n        xhr.open('POST', 'mail.php', true);\n        xhr.send(formData);\n\n        form.reset();\n      }\n\n\t\t}\n\t});\n}\n\nvalidateForms('.callback-form',\n{ name: {required: true}, phone: {required: true} },\n{ name: {required: 'Вы должны ввести имя'}, phone: {required: 'Вы должны ввести телефон'}},\n'.thanks-popup');\n\nvalidateForms('.cart-modal__form',\n{ name: {required: true}, phone: {required: true}, email: {required: true, email: true} },\n{ name: {required: 'Вы должны ввести имя'}, phone: {required: 'Вы должны ввести телефон'}, email: {required: 'Вы должны ввести email', email: 'Вы должны ввести корректный email'}},\n'.thanks-popup');\n","/**\n  * название функции\n  *\n  * @param {number} first - первое число\n  * @returns {number}\n  */\n"]}